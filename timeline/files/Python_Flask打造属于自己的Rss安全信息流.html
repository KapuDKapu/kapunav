<!DOCTYPE html> <html lang=en><!--
 Page saved with SingleFile 
 url: https://xz.aliyun.com/t/12980?time__1311=mqmhqI2G7DkD%2FD0lFGk%2B%3DDtcjd4Ao3bD&alichlgref=https%3A%2F%2Fpythoncat.top%2F 
 saved date: Sun Feb 04 2024 14:07:12 GMT+0800 (中国标准时间)
--><meta charset=utf-8>
<title>Python+Flask打造属于自己的Rss安全信息流 - 先知社区</title>
<meta name=description content=先知社区，先知安全技术社区>
<meta name=viewport content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no">
<style>/*!
 * Bootstrap v2.3.1
 *
 * Copyright 2012 Twitter, Inc
 * Licensed under the Apache License v2.0
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Designed and built with all the love in the world @twitter by @mdo and @fat.
 */.clearfix:before,.clearfix:after{display:table;line-height:0;content:""}.clearfix:after{clear:both}footer{display:block}html{font-size:100%;-webkit-text-size-adjust:100%;-ms-text-size-adjust:100%}a:focus{outline:thin dotted #333;outline:5px auto -webkit-focus-ring-color;outline-offset:-2px}a:hover,a:active{outline:0}img{height:auto;vertical-align:middle;-ms-interpolation-mode:bicubic}input{margin:0}button{-webkit-appearance:button}body{margin:0;font-family:"Helvetica Neue",Helvetica,Arial,sans-serif;font-size:14px;line-height:20px;color:#333}a{text-decoration:none}a:hover,a:focus{color:#005580;text-decoration:underline}.row:before,.row:after{display:table;line-height:0;content:""}.row:after{clear:both}.container{width:940px}.span10{width:780px}[class*="span"].pull-right{float:right}.container{margin-right:auto;margin-left:auto}.container:before,.container:after{display:table;line-height:0;content:""}.container:after{clear:both}p{margin:0 0 10px}.text-right{text-align:right}.text-center{text-align:center}h1,h2,h4{margin:10px 0;font-family:inherit;font-weight:bold;line-height:20px;color:inherit;text-rendering:optimizelegibility}h4{font-size:17.5px}hr{margin:20px 0;border:0;border-top:1px solid #eee;border-bottom:1px solid #fff}code,pre{color:#333;-webkit-border-radius:3px;-moz-border-radius:3px}pre{display:block;margin:0 0 10px;word-break:break-all;white-space:pre-wrap;border:1px solid rgba(0,0,0,0.15);-webkit-border-radius:4px;-moz-border-radius:4px}pre code{color:inherit}input{font-weight:normal}input{font-family:"Helvetica Neue",Helvetica,Arial,sans-serif}input[type="text"]{display:inline-block;padding:4px 6px;margin-bottom:10px;font-size:14px;line-height:20px;vertical-align:middle;-webkit-border-radius:4px;-moz-border-radius:4px}input{width:206px}input[type="text"]{background-color:#fff;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,0.075);-moz-box-shadow:inset 0 1px 1px rgba(0,0,0,0.075);box-shadow:inset 0 1px 1px rgba(0,0,0,0.075);-webkit-transition:border linear .2s,box-shadow linear .2s;-moz-transition:border linear .2s,box-shadow linear .2s;-o-transition:border linear .2s,box-shadow linear .2s;transition:border linear .2s,box-shadow linear .2s}textarea:focus,input[type="text"]:focus,input[type="password"]:focus,input[type="datetime"]:focus,input[type="datetime-local"]:focus,input[type="date"]:focus,input[type="month"]:focus,input[type="time"]:focus,input[type="week"]:focus,input[type="number"]:focus,input[type="email"]:focus,input[type="url"]:focus,input[type="search"]:focus,input[type="tel"]:focus,input[type="color"]:focus,.uneditable-input:focus{border-color:rgba(82,168,236,0.8);outline:0;outline:thin dotted \9;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,0.075),0 0 8px rgba(82,168,236,0.6);-moz-box-shadow:inset 0 1px 1px rgba(0,0,0,0.075),0 0 8px rgba(82,168,236,0.6);box-shadow:inset 0 1px 1px rgba(0,0,0,0.075),0 0 8px rgba(82,168,236,0.6)}input::-webkit-input-placeholder,textarea::-webkit-input-placeholder{color:#999}input{margin-left:0}input:focus:invalid,textarea:focus:invalid,select:focus:invalid{color:#b94a48;border-color:#ee5f5b}input:focus:invalid:focus,textarea:focus:invalid:focus,select:focus:invalid:focus{border-color:#e9322d;-webkit-box-shadow:0 0 6px #f8b9b7;-moz-box-shadow:0 0 6px #f8b9b7;box-shadow:0 0 6px #f8b9b7}.fade{opacity:0;-webkit-transition:opacity .15s linear;-moz-transition:opacity .15s linear;-o-transition:opacity .15s linear}.collapse{position:relative;-webkit-transition:height .35s ease;-moz-transition:height .35s ease;-o-transition:height .35s ease;transition:height .35s ease}.btn{text-shadow:0 1px 1px rgba(255,255,255,0.75);vertical-align:middle;background-image:-moz-linear-gradient(top,#fff,#e6e6e6);background-image:-webkit-gradient(linear,0 0,0 100%,from(#fff),to(#e6e6e6));background-image:-webkit-linear-gradient(top,#fff,#e6e6e6);background-image:-o-linear-gradient(top,#fff,#e6e6e6);background-repeat:repeat-x;border:1px solid #ccc;border-bottom-color:#b3b3b3;-webkit-border-radius:4px;-moz-border-radius:4px;-webkit-box-shadow:inset 0 1px 0 rgba(255,255,255,0.2),0 1px 2px rgba(0,0,0,0.05);-moz-box-shadow:inset 0 1px 0 rgba(255,255,255,0.2),0 1px 2px rgba(0,0,0,0.05);box-shadow:inset 0 1px 0 rgba(255,255,255,0.2),0 1px 2px rgba(0,0,0,0.05)}.btn:hover,.btn:focus,.btn:active,.btn.active,.btn.disabled,.btn[disabled]{color:#333;background-color:#e6e6e6;*background-color:#d9d9d9}.btn:active,.btn.active{background-color:#ccc \9}.btn:first-child{*margin-left:0}.btn:hover,.btn:focus{color:#333;text-decoration:none;background-position:0-15px;-webkit-transition:background-position .1s linear;-moz-transition:background-position .1s linear;-o-transition:background-position .1s linear;transition:background-position .1s linear}.btn:focus{outline:thin dotted #333;outline:5px auto -webkit-focus-ring-color;outline-offset:-2px}.btn.active,.btn:active{background-image:none;outline:0;-webkit-box-shadow:inset 0 2px 4px rgba(0,0,0,0.15),0 1px 2px rgba(0,0,0,0.05);-moz-box-shadow:inset 0 2px 4px rgba(0,0,0,0.15),0 1px 2px rgba(0,0,0,0.05);box-shadow:inset 0 2px 4px rgba(0,0,0,0.15),0 1px 2px rgba(0,0,0,0.05)}.btn-primary{text-shadow:0-1px 0 rgba(0,0,0,0.25);background-image:-moz-linear-gradient(top,#08c,#04c);background-image:-webkit-gradient(linear,0 0,0 100%,from(#08c),to(#04c));background-image:-webkit-linear-gradient(top,#08c,#04c);background-image:-o-linear-gradient(top,#08c,#04c);background-repeat:repeat-x}.btn-primary:hover,.btn-primary:focus,.btn-primary:active,.btn-primary.active,.btn-primary.disabled,.btn-primary[disabled]{color:#fff;background-color:#04c;*background-color:#003bb3}.btn-primary:active,.btn-primary.active{background-color:#039 \9}.navbar{margin-bottom:20px;overflow:visible}.navbar-inner{background-color:#fafafa;background-image:-moz-linear-gradient(top,#fff,#f2f2f2);background-image:-webkit-gradient(linear,0 0,0 100%,from(#fff),to(#f2f2f2));background-image:-webkit-linear-gradient(top,#fff,#f2f2f2);background-image:-o-linear-gradient(top,#fff,#f2f2f2);background-image:linear-gradient(to bottom,#fff,#f2f2f2);background-repeat:repeat-x;border:1px solid #d4d4d4;-webkit-border-radius:4px;-moz-border-radius:4px;-webkit-box-shadow:0 1px 4px rgba(0,0,0,0.065);-moz-box-shadow:0 1px 4px rgba(0,0,0,0.065)}.navbar-inner:before,.navbar-inner:after{display:table;line-height:0;content:""}.navbar-inner:after{clear:both}.navbar .container{width:auto}.nav-collapse.collapse{height:auto;overflow:visible}.navbar .brand{float:left;font-size:20px;font-weight:200;color:#777;text-shadow:0 1px 0#fff}.navbar .brand:hover,.navbar .brand:focus{text-decoration:none}.modal{position:fixed;left:50%;z-index:1050;width:560px;margin-left:-280px;background-color:#fff;border:1px solid rgba(0,0,0,0.3);-webkit-border-radius:6px;-moz-border-radius:6px;border-radius:6px;outline:0;-webkit-box-shadow:0 3px 7px rgba(0,0,0,0.3);-moz-box-shadow:0 3px 7px rgba(0,0,0,0.3);box-shadow:0 3px 7px rgba(0,0,0,0.3);-webkit-background-clip:padding-box;-moz-background-clip:padding-box;background-clip:padding-box}.modal.fade{top:-25%;-webkit-transition:opacity .3s linear,top .3s ease-out;-moz-transition:opacity .3s linear,top .3s ease-out;-o-transition:opacity .3s linear,top .3s ease-out;transition:opacity .3s linear,top .3s ease-out}.modal-header{padding:9px 15px;border-bottom:1px solid #eee}.modal-body{position:relative;max-height:400px;padding:15px;overflow-y:auto}.modal-footer{padding:14px 15px 15px;margin-bottom:0;text-align:right;background-color:#f5f5f5;border-top:1px solid #ddd;-webkit-border-radius:0 0 6px 6px;-moz-border-radius:0 0 6px 6px;border-radius:0 0 6px 6px;-webkit-box-shadow:inset 0 1px 0#fff;-moz-box-shadow:inset 0 1px 0#fff;box-shadow:inset 0 1px 0#fff}.modal-footer:before,.modal-footer:after{display:table;line-height:0;content:""}.modal-footer:after{clear:both}.modal-footer .btn+.btn{margin-bottom:0;margin-left:5px}@-webkit-keyframes progress-bar-stripes{from{background-position:40px 0}to{background-position:0 0}}@-moz-keyframes progress-bar-stripes{from{background-position:40px 0}to{background-position:0 0}}@-ms-keyframes progress-bar-stripes{from{background-position:40px 0}to{background-position:0 0}}@-o-keyframes progress-bar-stripes{from{background-position:0 0}to{background-position:40px 0}}@keyframes progress-bar-stripes{from{background-position:40px 0}to{background-position:0 0}}</style>
<style>/*! Editor.md v1.5.0 | editormd.min.css | Open source online markdown editor. | MIT License | By: Pandao | https://github.com/pandao/editor.md | 2015-06-09 *//*! prefixes.scss v0.1.0 | Author: Pandao | https://github.com/pandao/prefixes.scss | MIT license | Copyright (c) 2015 */@media only screen and (-webkit-min-device-pixel-ratio:2),only screen and (min-device-pixel-ratio:2){}@media only screen and (-webkit-min-device-pixel-ratio:3),only screen and (min-device-pixel-ratio:3){}/*! prefixes.scss v0.1.0 | Author: Pandao | https://github.com/pandao/prefixes.scss | MIT license | Copyright (c) 2015 *//*!
 *  Font Awesome 4.3.0 by @davegandy - http://fontawesome.io - @fontawesome
 *  License - http://fontawesome.io/license (Font: SIL OFL 1.1, CSS: MIT License)
 */@-webkit-keyframes fa-spin{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(359deg);transform:rotate(359deg)}}@keyframes fa-spin{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(359deg);transform:rotate(359deg)}}/*! prefixes.scss v0.1.0 | Author: Pandao | https://github.com/pandao/prefixes.scss | MIT license | Copyright (c) 2015 *//*! github-markdown-css | The MIT License (MIT) | Copyright (c) Sindre Sorhus <sindresorhus@gmail.com> (sindresorhus.com) | https://github.com/sindresorhus/github-markdown-css */.markdown-body{-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%;overflow:hidden}.markdown-body *{-moz-box-sizing:border-box}.markdown-body a:active,.markdown-body a:hover{outline:0;text-decoration:underline}.markdown-body>:first-child{margin-top:0!important}.markdown-body>:last-child{margin-bottom:0!important}.markdown-body img{-moz-box-sizing:border-box}.markdown-body code:after,.markdown-body code:before{letter-spacing:-.2em;content:" "}.markdown-body pre code:after,.markdown-body pre code:before{content:normal}/*! Pretty printing styles. Used with prettify.js. */@media screen{}@media screen{}</style>
<style>/*!
 * Bootstrap Responsive v2.3.1
 *
 * Copyright 2012 Twitter, Inc
 * Licensed under the Apache License v2.0
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Designed and built with all the love in the world @twitter by @mdo and @fat.
 */.clearfix:before,.clearfix:after{display:table;line-height:0;content:""}.clearfix:after{clear:both}@-ms-viewport{width:device-width}@media (min-width:768px) and (max-width:979px){}@media (max-width:767px){}@media (min-width:1200px){.row{margin-left:-30px}.row:before,.row:after{display:table;line-height:0;content:""}.row:after{clear:both}[class*="span"]{float:left;min-height:1px;margin-left:30px}.container{width:1170px}.span10{width:970px}.span3{width:270px}input{margin-left:0}}@media (min-width:768px) and (max-width:979px){.row{margin-left:-20px}.row:before,.row:after{display:table;line-height:0;content:""}.row:after{clear:both}[class*="span"]{float:left;min-height:1px;margin-left:20px}.container{width:724px}.span10{width:600px}.span3{width:166px}input{margin-left:0}}@media (max-width:767px){body{padding-right:0px;padding-left:0px}.container{width:auto}.row{margin-left:0}[class*="span"]{display:block;float:none;width:100%;margin-left:0;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}.modal{position:fixed;right:20px;left:20px;width:auto;margin:0}.modal.fade{top:-100px}}@media (max-width:480px){.nav-collapse{-webkit-transform:translate3d(0,0,0)}.modal{top:10px;right:10px;left:10px}}@media (max-width:979px){body{padding-top:0}.navbar .container{width:auto;padding:0}.navbar .brand{padding-right:10px;padding-left:10px}.nav-collapse{clear:both}.nav-collapse.collapse{height:0;overflow:hidden}}@media (min-width:980px){.nav-collapse.collapse{height:auto!important;overflow:visible!important}}</style>
<style>li{line-height:26px}a:hover{text-decoration:none}.post-user-action>span{margin-right:10px;line-height:21px;border:none}.post-user-action .i-seprator{color:rgba(0,0,0,0.1);margin:0 2px}.navbar .brand{padding:0;height:50px;margin-left:0;display:inline-block!important;background-repeat:no-repeat;width:120px;background-size:207px 50px;background-image:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIxLjEuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IuWbvuWxgl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIKCSB2aWV3Qm94PSIwIDAgODAwLjQgMTMwLjQiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDgwMC40IDEzMC40OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+Cgkuc3Qwe2ZpbGw6IzM3M0Q0MTt9Cjwvc3R5bGU+Cjx0aXRsZT7lhYjnn6XmioDmnK/npL7ljLo8L3RpdGxlPgo8Zz4KCTxwb2x5Z29uIGNsYXNzPSJzdDAiIHBvaW50cz0iMCwxMjEuNCAwLDI3LjMgNTYuMywyNy4zIAkiLz4KCTxwb2x5Z29uIGNsYXNzPSJzdDAiIHBvaW50cz0iODkuOSw4LjQgODkuOSwxMDIuNSAzMy41LDEwMi41IAkiLz4KPC9nPgo8cGF0aCBjbGFzcz0ic3QwIiBkPSJNMTMwLjcsNTguNGMtMi4zLTEuNC00LjctMi45LTcuMi00LjVjNi02LjksMTAuNy0xNi4yLDE0LjEtMjcuOWw4LjMsMS43Yy0wLjcsMS42LTEuNiwzLjktMi44LDYuOQoJYy0wLjcsMi4zLTEuMywzLjktMS43LDQuOGgxNy41VjI0aDguM3YxNS41aDI5LjZWNDdoLTI5LjZ2MTUuMWgzNC43VjcwaC0yNi41djIxLjNjLTAuMiwzLjQsMS42LDUsNS41LDQuOGg3LjIKCWMzLjIsMC4yLDUuMy0xLjMsNi4yLTQuNWMwLjItMS40LDAuNS00LjEsMC43LTguM2MwLDAuNywwLjEtMC4xLDAuMy0yLjRsNy42LDIuOGMtMC4yLDQuMS0wLjcsNy45LTEuNCwxMS40CgljLTEuNiw2LTUuOCw4LjgtMTIuNyw4LjZoLTEwLjdjLTcuNiwwLjItMTEuMi0zLjItMTEtMTAuM1Y3MC4xaC0xNS44djMuMWMwLDE1LjQtOS4xLDI2LjQtMjcuMiwzM2MtMS40LTIuMS0zLTQuNi00LjgtNy42CglDMTM1LjEsOTQsMTQzLDg1LjQsMTQzLDcyLjhWNzBoLTIyLjd2LTcuOWgzOC41VjQ3aC0yMS4zQzEzNS41LDUxLjEsMTMzLjIsNTQuOSwxMzAuNyw1OC40eiIvPgo8cGF0aCBjbGFzcz0ic3QwIiBkPSJNMjEzLjIsNTQuNmMtMC41LTAuMi0xLjItMC43LTIuMS0xLjRjLTEuOC0xLjQtMy4yLTIuMy00LjEtMi44YzQuOC04LjksOC4xLTE3LjksMTAtMjYuOGw3LjYsMS40CgljLTAuNSwxLjgtMS4zLDQuNC0yLjQsNy42Yy0wLjIsMS4yLTAuNSwyLTAuNywyLjRoMjQuMXY3LjJoLTEyYzAsOC43LTAuMSwxNC45LTAuMywxOC42aDE0LjFWNjhoLTE0LjhjMCwyLjMtMC4yLDQuNS0wLjcsNi41CgljMS42LDEuNiwzLjgsNCw2LjUsNy4yYzQuNiw0LjgsOCw4LjYsMTAuMywxMS40bC01LjgsNS4yYy0wLjktMS4yLTIuMy0yLjgtNC4xLTQuOGMtMS44LTIuMy00LjgtNS44LTguOS0xMC43CgljLTIuNSw3LjgtOC40LDE1LjUtMTcuNSwyMy4xYy0yLjMtMi44LTQuMS00LjgtNS41LTYuMmMxMS4yLTguOSwxNy4zLTE5LjUsMTguMi0zMS43aC0xNy4ydi03LjJoMTcuNWMwLjItMy45LDAuMy0xMC4xLDAuMy0xOC42CgloLTYuOUMyMTcuMSw0Ni4zLDIxNS4zLDUwLjQsMjEzLjIsNTQuNnogTTI1MS40LDEwMi43VjMxLjloMzUuOHY3MC41aC04LjN2LTcuNmgtMTkuNnY3LjlDMjU5LjMsMTAyLjcsMjUxLjQsMTAyLjcsMjUxLjQsMTAyLjd6CgkgTTI1OS4zLDM5LjR2NDcuOGgxOS42VjM5LjRIMjU5LjN6Ii8+CjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0yOTcuMiw4MS4xYy0wLjItMC45LTAuNi0yLjMtMS00LjFjLTAuNy0xLjgtMS4yLTMuMi0xLjQtNC4xYzkuMi02LjIsMTYuNC0xNC4zLDIxLjctMjQuNGgtMTkuNnYtNi45aDI3LjV2Ny4yCgljLTIuNSw1LjUtNS40LDEwLjQtOC42LDE0Ljh2NDIuM2gtNy42VjcyLjFDMzA1LDc1LjEsMzAxLjQsNzguMSwyOTcuMiw4MS4xeiBNMzExLjcsNDAuNWMtMC4yLTAuNS0wLjYtMS4xLTEtMi4xCgljLTIuOC02LTQuNi05LjctNS41LTExLjRsNi45LTMuMWMwLjcsMS4yLDEuOCwzLjMsMy40LDYuNWMxLjYsMywyLjgsNS4yLDMuNCw2LjVMMzExLjcsNDAuNXogTTMyNi44LDgwLjcKCWMtMS42LTIuMS00LjctNS42LTkuMy0xMC43Yy0wLjItMC4yLTAuNS0wLjUtMC43LTAuN2w0LjgtNC41YzIuMSwxLjgsNC45LDQuNiw4LjYsOC4zYzEuMSwxLjIsMS45LDIsMi40LDIuNEwzMjYuOCw4MC43egoJIE0zMjguNSw1Ni42VjQ5aDE4LjZWMjQuM2g4LjN2MjQuOEgzNzV2Ny42aC0xOS42djM5LjJoMjIuNHY2LjloLTUzdi02LjloMjIuNFY1Ni42SDMyOC41eiIvPgo8cGF0aCBjbGFzcz0ic3QwIiBkPSJNMzg5LjgsMTAxLjRWMjkuMUg0NjJ2Ny42aC02NC4zdjU3LjhoNjUuN3Y2LjlIMzg5Ljh6IE00NTAuMyw5MC40Yy02LjItNi42LTEyLjYtMTMtMTkuMy0xOC45CgljLTYsNS43LTEzLjQsMTIuMy0yMi40LDE5LjZjLTEuNC0xLjYtMy40LTMuOC02LjItNi41YzguMy01LjcsMTUuOC0xMiwyMi43LTE4LjljLTYuOS02LjQtMTMuOC0xMi43LTIwLjYtMTguOWw2LjItNS4yTDQzMSw2MC4yCgljNS41LTYuMiwxMC45LTEyLjgsMTYuMi0yMGw3LjIsNC41Yy01LjcsNy42LTExLjYsMTQuNC0xNy41LDIwLjZjNi45LDYuNywxMy42LDEzLDIwLjMsMTguOUw0NTAuMyw5MC40eiIvPgo8L3N2Zz4K)}.brand-box{position:absolute}@media screen{.navbar{margin-bottom:12px;overflow:visible}}@media screen and (min-width:1950px){}@media screen and (min-width:1660px) and (max-width:1945px){}@media screen and (min-width:1350px) and (max-width:1659px){}@media screen and (min-width:1100px) and (max-width:1349px){}@media only screen and (max-width:1100px){}@media only screen and (min-width:768px){.anonymous-user{display:none}}@media only screen and (max-width:736px){.brand{margin:0 auto}.anonymous-user{height:50px;line-height:50px;margin:0 15px}.brand-box{left:15px}}@media screen and (min-width:768px) and (max-width:1219px){}@media only screen and (min-width:320px) and (max-width:374px){}@media only screen and (min-width:321px) and (max-width:413px){.brand-box{left:15px}}@media screen and (min-width:1220px){.anonymous-user{display:none}}</style>
<style>a{color:#778087}.topic-list p{margin:0 0 0 0}.topic-content{min-height:40px}.collapse form{position:relative;width:300px;float:right}div.search{padding:10px 0}.d1 input{height:20px;padding-left:18px;border:1px solid #ddd;border-radius:15px;outline:none;background:#ffffff;color:#9E9C9C;float:right}.topic-list{word-break:break-all;word-wrap:break-word}/*!*border-bottom: solid #eee 1px;*!*/.user-info{padding:5px 0 5px 0}.topic-info a,.topic-info{padding-top:5px}.topic-info a:hover{text-decoration:solid}</style>
<style>body{background-color:#eee}form{margin:0!important}a:focus{text-decoration:none}.box ul{margin-bottom:0px!important}.markdown-body ul{list-style-type:disc}.markdown-body ul{margin:0 0 24px 0!important}.box a:hover{text-decoration:none}#Wrapper .row.box{margin-left:0px}.navbar-inner{border-radius:0px;min-height:40px;padding-right:0px;padding-left:0px;outline:none;margin-bottom:0;list-style:none;z-index:1050;background:#fff;-webkit-box-shadow:0 1px 4px rgba(0,21,41,0.08);box-shadow:0 1px 4px rgba(0,21,41,0.08);line-height:46px;-webkit-transition:background .3s,width .2s;-o-transition:background .3s,width .2s;transition:background .3s,width .2s}.bs-docs-footer{text-align:left;color:#99979c;height:64px;background-color:#FFF;border-top:1px solid rgba(0,0,0,0.22);line-height:64px}.bs-docs-footer .links>a{display:inline-block;padding:0 12px;border-left:1px solid #e8e8e8;color:#8c8c8c;line-height:1}.bs-docs-footer .links>a:first-child{border-left:none}.box-container .user-info{margin-bottom:10px;background:#fff}.content-title{font-size:24px;color:#333;text-decoration:none;line-height:24px;text-shadow:0 1px 0#fff}.markdown-body h1,.markdown-body h2{border-bottom:none}.box-container{padding:20px}.container .offset{margin-top:0!important}.topic-info{color:#999!important;font-size:12px!important}.topic-info a{padding:0px;color:#555!important;font-size:12px!important}.topic-info a:hover{color:#4d5256;text-decoration:underline}.topic-info .cell{padding-left:0!important;margin-left:0px;font-size:10px;font-weight:bold}.markdown-body img{max-width:90%!important;text-align:center;margin-left:auto;margin-right:auto;display:block;padding:10px 0px 10px 0px}.topic-info span{margin-left:0px;font-size:10px;color:rgba(0,0,0,0.45)}.btn{display:inline-block;padding:4px 12px;margin-bottom:0;font-size:14px;line-height:20px;background-color:#f4f4f4;color:#444;border-color:#ddd;font-family:"Helvetica Neue For Number",-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"PingFang SC","Hiragino Sans GB","Microsoft YaHei","Helvetica Neue",Helvetica,Arial,sans-serif;-webkit-box-sizing:border-box;box-sizing:border-box;margin:0;list-style:none;font-weight:400;text-align:center;cursor:pointer;background-image:none;white-space:nowrap;border-radius:2px;height:32px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none}.box{font-family:Monospaced Number,Chinese Quote,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Helvetica Neue,Helvetica,Arial,sans-serif;font-size:14px;line-height:1.5;color:rgba(0,0,0,0.65);-webkit-box-sizing:border-box;box-sizing:border-box;margin-top:0!important;margin-bottom:20px;padding:0;list-style:none;background:#fff;border-radius:2px;position:relative;-webkit-transition:all .3s;-o-transition:all .3s;transition:all .3s;-moz-box-shadow:0 1px 1px rgba(0,0,0,0.15);-webkit-box-shadow:0 1px 1px rgba(143,168,191,.35);box-shadow:0 1px 1px rgba(143,168,191,.35);border-bottom:1px solid #e2e2e9}.span10{float:left;min-height:1px}.span3{min-height:1px;margin-left:0!important;width:270px}#Wrapper .span10{margin-left:0px!important;max-width:960px}@media (min-width:1200px){.container{width:82%!important}}@media screen and (min-width:1500px){#Wrapper.container,.navbar .navbar-inner .container,.bs-docs-footer .container{max-width:1100px!important}#Wrapper .span10{max-width:810px!important}}@media screen and (min-width:980px) and (max-width:1499px){#Wrapper.container,.navbar .navbar-inner .container,.bs-docs-footer .container{max-width:1100px!important}#Wrapper .span10{max-width:74%!important}.span3{max-width:24.5%!important}}@media screen and (min-width:768px) and (max-width:979px){#Wrapper.container,.navbar .navbar-inner .container,.bs-docs-footer .container{width:90%!important}#Wrapper .span10{width:77%!important}.nav-collapse{clear:none!important;height:auto!important;overflow:auto!important;float:right}.span3{max-width:22%!important}}@media screen and (max-width:767px){#Wrapper.container,.navbar .navbar-inner .container,.bs-docs-footer .container{width:100%!important}.topic-info .info-left{display:block}.topic-info span{margin-left:0px}#Wrapper .span3{width:100%!important}}@media screen and (max-width:419px){body{padding-left:0px!important;padding-right:0px!important}}@media (max-width:979px){}@media (max-width:376px){}@media (min-width:768px){}@media (min-width:992px){}@media (min-width:1200px){}</style>
<style>/*! prefixes.scss v0.1.0 | Author: Pandao | https://github.com/pandao/prefixes.scss | MIT license | Copyright (c) 2015 */@media only screen and (-webkit-min-device-pixel-ratio:2),only screen and (min-device-pixel-ratio:2){}@media only screen and (-webkit-min-device-pixel-ratio:3),only screen and (min-device-pixel-ratio:3){}/*! prefixes.scss v0.1.0 | Author: Pandao | https://github.com/pandao/prefixes.scss | MIT license | Copyright (c) 2015 *//*!
 *  Font Awesome 4.3.0 by @davegandy - http://fontawesome.io - @fontawesome
 *  License - http://fontawesome.io/license (Font: SIL OFL 1.1, CSS: MIT License)
 */.pull-right{float:right}@-webkit-keyframes fa-spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(359deg);transform:rotate(359deg)}}@keyframes fa-spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(359deg);transform:rotate(359deg)}}/*! prefixes.scss v0.1.0 | Author: Pandao | https://github.com/pandao/prefixes.scss | MIT license | Copyright (c) 2015 *//*! github-markdown-css | The MIT License (MIT) | Copyright (c) Sindre Sorhus <sindresorhus@gmail.com> (sindresorhus.com) | https://github.com/sindresorhus/github-markdown-css */.markdown-body{color:#333;font-family:Monospaced Number,Chinese Quote,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Helvetica Neue,Helvetica,Arial,sans-serif;font-size:15px;line-height:24px;letter-spacing:.05em;word-wrap:break-word}.markdown-body a{background:transparent}.markdown-body a:active,.markdown-body a:hover{outline:0}.markdown-body strong{font-weight:bold}.markdown-body h1{margin:0.67em 0}.markdown-body img{border:0}.markdown-body pre{font-family:"Meiryo UI","YaHei Consolas Hybrid",Consolas,"Malgun Gothic","Segoe UI","Trebuchet MS",Helvetica,monospace,monospace}.markdown-body *{-moz-box-sizing:border-box;box-sizing:border-box}.markdown-body a{color:#4183c4;text-decoration:none}.markdown-body a:hover,.markdown-body a:active{text-decoration:underline}.markdown-body ul{padding:0}.markdown-body code{font-family:Consolas,"Liberation Mono",Menlo,Courier,monospace}.markdown-body pre{font:12px Consolas,"Liberation Mono",Menlo,Courier,monospace}.markdown-body>*:first-child{margin-top:0!important}.markdown-body>*:last-child{margin-bottom:0!important}.markdown-body h1,.markdown-body h2{position:relative;margin-top:1em;margin-bottom:16px;font-weight:bold}.markdown-body h1{padding-bottom:0em;font-size:28px;line-height:1.2}.markdown-body h2{padding-bottom:0em;font-size:24px;line-height:1.225}.markdown-body p,.markdown-body ul,.markdown-body pre{margin-top:0;margin-bottom:24px}.markdown-body ul{padding-left:2em}.markdown-body img{max-width:100%;-moz-box-sizing:border-box;box-sizing:border-box}.markdown-body code{padding-top:0.2em;padding-bottom:0.2em;border-radius:3px}.markdown-body code:before,.markdown-body code:after{letter-spacing:-0.2em;content:" "}.markdown-body pre>code{font-size:100%;word-break:normal;white-space:pre;background:transparent}.markdown-body pre{padding:16px;overflow:auto;font-size:85%;background-color:#f7f7f7;border-radius:3px}.markdown-body pre{word-wrap:normal}.markdown-body pre code{display:inline;max-width:initial;padding:0;margin:0;overflow:initial;line-height:inherit;word-wrap:normal;background-color:transparent;border:0}.markdown-body pre code:before,.markdown-body pre code:after{content:normal}/*! Pretty printing styles. Used with prettify.js. */@media screen{}.markdown-body pre{line-height:1.6}@media screen{}</style>
<style>@-webkit-keyframes a{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(359deg);transform:rotate(359deg)}}@keyframes a{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(359deg);transform:rotate(359deg)}}@media (max-width:800px){}</style>
<!--[if lte IE 8]>
        <script src="http://code.jquery.com/jquery-1.11.3.min.js"></script>
    <![endif]-->
<!--[if !IE]> -->
<style>#waf_nc_block{position:fixed;width:100%;height:100%;top:0;bottom:0;left:0;z-index:99999}</style><meta name=referrer content=no-referrer><link rel=icon href="data:image/x-icon;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAADDUExURUxpcVVVVUNDVT5CTz1BUEBVVT1BUD1BTz5CTz5GT0BDUVVVVT5CTz5BUj1CTz5BT05OYj1CUD5GVUJCUj5CUD5BTz5BT0lJbT5CUEJCVT9DUUBHVT5CUD5CTz9CUD5BTz1BTz5CUEREUz5CUD5BUD5DTz5CUD5BT0BDUT5CTz1CUD5EUUBgYEBDUT5CUT1CTz1BUD5BUD9DUT1CT0REVT5BUENDUT1BUEBGUz1BUD9DT0FBUz1CTz5BTz1CUD1BUD1BT5JdbS4AAABAdFJOUwAJKr76DPbywR1MBuRO5fsNsyEfvdtKB4MbfiTa+FnegYwitbBXfPdYrt0pCEiL9XmsRdgeVhO8KI2KK45a2b/ePQx7AAAAwUlEQVQ4y4XTxw7CQAwE0A2E0BN67733Xv3/X4U0kYgimKxP9vgdfNhVildaBVfmpQGPaPD+7mjAW74g5q8Ewqd4QHy1T+JCm4IdsqswsEUUchhYHxCFhYENkpYw0MCFEZuCJYKuMDB1LzQZsPLehX/BCONEGCiWcWGKghKmlTAwwDA3GbByGArCQA39UBiYLfwX/gD3mdyEgSy6i8nAuIfuLAx00ByFgbaB5hT3VdUDmk8mfc0fa9Y1oKLZKyNo+QEJQV3gLnHrKwAAAABJRU5ErkJggg==" type=image/x-icon><style>.sf-hidden{display:none!important}</style><link rel=canonical href="https://xz.aliyun.com/t/12980?time__1311=mqmhqI2G7DkD%2FD0lFGk%2B%3DDtcjd4Ao3bD&amp;alichlgref=https%3A%2F%2Fpythoncat.top%2F"><meta http-equiv=content-security-policy content="default-src 'none'; font-src 'self' data:; img-src 'self' data:; style-src 'unsafe-inline'; media-src 'self' data:; script-src 'unsafe-inline' data:; object-src 'self' data:; frame-src 'self' data:;"><style>img[src="data:,"],source[src="data:,"]{display:none!important}</style></head>
<body inmaintabuse=1>
<div class="navbar navbar-default">
 <div class=navbar-inner>
 <div class=container style=text-align:center;position:relative>
 <!--[if lte IE 8]>
            <span style="display:inline-block;margin:0 auto;color:red;">为了更好的体验，请使用IE10及以上版本</span>
            <![endif]-->
 <div class=brand-box>
 <a class=brand href=https://xz.aliyun.com/tab/1></a>
 </div>
 
 <a href="https://account.aliyun.com/login/login.htm?oauth_callback=https%3A%2F%2Fxz.aliyun.com%2Ft%2F12980&amp;from_type=xianzhi" class="pull-right anonymous-user hh_loding">
 登录</a>
 
 <div class="nav-collapse collapse">
 <div class="search d1 text-right">
 <form action=/search>
 <input type=text placeholder=搜索 name=keyword value>
 </form>
 </div>
 </div>
 </div>
 </div>
</div>
<div id=Wrapper class=container>
 
 
 <div class=row2>
 <div class=span10>
 
 
 
 
 
 
<div class="row box content">
 
 <div class=box-container>
 <div class=main-topic>
 <div class="clearfix user-info topic-list">
 <p><span class=content-title>Python+Flask打造属于自己的Rss安全信息流</span>
 </p>
 <div class=topic-info>
 <span class=info-left>
 <a href=https://xz.aliyun.com/u/8351>
 <span class="username cell"> 小陈</span></a> <span class=i-seprator> / </span>
 <span> 2023-11-06 01:37:43</span><span class=i-seprator> / </span>
 
 <span>发表于安徽 / </span>
 
 <span>浏览数 4698</span>
 
 
 <span class="content-node sf-hidden">
 
 
 
 
 </span>
 </span>
 <span class="pull-right t-vote cell info-right sf-hidden">
 </span>
 </div>
 </div>
 <hr>
 <div id=topic_content class="topic-content markdown-body">
 <h1 id=toc-0>前言：</h1>
<p>最近看了一些师傅搭建的Rss信息流网站，可以很好的汇总自己经常看的网站文章，虽然可以我们收藏网站放到一个分类，然后全部打开一个一个去看，但是总结的Rss可以更方便的输出最新文章去学习，也收藏了一些师傅搭建的Rss，但是缺点就是只能看师傅想看的，和自身想看的学习内容会产生偏差，所以就想到了用Python+Flask打造属于自己的Rss安全信息流。</p>
<h1 id=toc-1>部分Rss订阅地址</h1>
<pre><code>先知社区　https://xz.aliyun.com/feed
Freebuf　http://www.freebuf.com/feed
Seebug　 https://www.seebug.org/rss/new/
SecWiki　https://www.sec-wiki.com/news/rss
安全客　　https://api.anquanke.com/data/v1/rss
安全牛　　https://www.aqniu.com/feed
安全脉搏　https://www.secpulse.com/feed
ctftime　https://ctftime.org/event/list/upcoming/rss/
Exploit-DB　https://www.exploit-db.com/rss.xml
微信公众号RSS列表　https://wechat2rss.xlab.app/posts/list/</code></pre>
<h1 id=toc-2>Flask相关知识</h1>
<p>Flask是一个Python编写的Web 微框架，让我们可以使用Python语言快速实现一个网站或Web服务，在介绍Flask之前首先来聊下它和Django的联系以及区别，django个大而全的web框架，它内置许多模块，flask是一个小而精的轻量级框架，Django功能大而全，Flask只包含基本的配置, Django的一站式解决的思路，能让开发者不用在开发之前就在选择应用的基础设施上花费大量时间。Django有模板，表单，路由，基本的数据库管理等等内建功能。与之相反，Flask只是一个内核，默认依赖于2个外部库： Jinja2 模板引擎和 WSGI工具集--Werkzeug , flask的使用特点是基本所有的工具使用都依赖于导入的形式去扩展，flask只保留了web开发的核心功能，你可以简单理解为一个简单的web框架。</p>
<h2 id=toc-3>Flask生成网页</h2>
<p>一个基础的Flask创建的网页</p>
<pre><code>from flask import Flask
app = Flask(__name__)

@app.route('/')
def hello_world():
    return 'Hello World!'

if __name__ == '__main__':
    app.run()</code></pre>
<p><a id=img0 href=https://xzfile.aliyuncs.com/media/upload/picture/20231105155255-54386092-7bb0-1.png><img src=data:,></a></p>
<pre><code>from flask import Flask
app = Flask(__name__)</code></pre>
<p>导入我们安装好的flask包，通过flask包导入Flask类，Flask类即为Flask的核心，实例化这个Flask类的到一个实例化对象app。<strong>name</strong>这个特殊的参数：Python会根据所处的模块来赋予<strong>name</strong>变量相应的值，对于我们的程序来说（app.py），这个值为app。</p>
<pre><code>@app.route('/')
def hello_world():
    return 'Hello World!'</code></pre>
<p>如果有过对其他web框架的了解，相信看见这个已经看出了一些门道。没错这个 @app.route('/')就是用来匹配url的，在我们的flask里面是以装饰器来实现的，装饰器引用的也是我们上面实例化核心类出来的对象。如果匹配到了路由就会触发我们的视图函数执行，并且return回具体的数据给前端或者移动端。</p>
<pre><code>if __name__ == '__main__':
    app.run()</code></pre>
<p>app.run()实现了flask程序在开发环境下运行起来,并且默认ip和端口是127.0.0.1:5000</p>
<p>app.run(host='0.0.0.0', port=80) 同时可以设置host参数可port端口</p>
<pre><code>app = Flask(__name__, static_folder='static')
app.config['APPLICATION_ROOT'] = '/'
app.config['PREFERRED_URL_SCHEME'] = 'http'</code></pre>
<p>上面代码给Flask设置各种属性，static_folder表示指定静态文件的路径，后面的各位师傅一看也知道怎么回事了，设置了静态文件夹路径、服务器名称、应用程序根目录和 URL 协议。</p>
<p>说白了，其实就是一个框架，知道怎么使用就可以了，实践能力远比理论更重要！</p>
<h2 id=toc-4>项目目录详解：</h2>
<p>一个Flask项目由 static文件夹，templates文件夹，app.py主文件组成</p>
<ul>
<li>static文件夹 用于存放各种静态文件 css、js、图片等等</li>
<li>templates文件夹 用于存放html模板文件</li>
<li>app.py 为我们的主文件 ，启动项目需要启动该文件</li>
<li>注意 app.py 文件的名字我们可以自由命名，但是除了flask.py 这种和Flask库相冲突的名字</li>
</ul>
<p><strong>Flask如何导入css</strong></p>
<pre><code>&lt;link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/my.css') }}"&gt;</code></pre>
<p>使用{{ url_for('static', filename='css/my.css') }} 即可导入，后面指定的路径要放到static目录下</p>
<h1 id=toc-5>对接Rss订阅</h1>
<p>有了上面的基础知识，那么接下来就是核心功能的实现</p>
<ul>
<li>requests请求rss订阅，爬取文章标题和文章url地址储存为txt</li>
<li>然后再写一个函数请求txt，输出文章标题和文章url地址到网页</li>
</ul>
<p><strong>先知社区</strong></p>
<pre><code>def xianzhi():
    url = 'https://xz.aliyun.com/feed'
    response = requests.get(url,headers=headers)
    html = response.text
    rtitle = r'&lt;entry&gt;&lt;title&gt;(.*?)&lt;/title&gt;&lt;link href="'
    title = re.findall(rtitle, html,re.DOTALL)

    rurl = r'&lt;link href="(.*?)" rel="alternate"&gt;'
    url = re.findall(rurl, html,re.DOTALL)

    with open("./rss_hackxc/xianzhi.txt", "w",encoding='utf-8') as f:
        for x, y in zip(url, title):
            f.write(str(x) + ',' + str(y) + '\n')</code></pre>
<p><a id=img1 href=https://xzfile.aliyuncs.com/media/upload/picture/20231105161612-950934b8-7bb3-1.png><img src=data:,></a><br>
当然如果没有rss订阅也是同理，直接requests加上re正则匹配爬取即可，下面为<strong>火线社区</strong>例子：</p>
<pre><code>def huoxian():
    url = 'https://zone.huoxian.cn/?sort=newest'
    response = requests.get(url, headers=headers)
    html = response.text
    rtitle = r'&lt;a href="https://zone.huoxian.cn/d(.*?)"&gt;(.*?)&lt;/a&gt;'
    title = re.findall(rtitle, html, re.DOTALL)
    #print(title)
    count = 0  # 删除第一行置顶信息
    with open('./rss_hackxc/huoxian.txt', 'w', encoding='utf-8') as f:
        for t in title:
            t = str(t).strip().replace("'", "").replace("(", "").replace(")", "").replace(' ','').replace('\\n','')
            #print(t)
            if count &lt; 1:
                count += 1
            else:
                f.write(t+"\n")
                count += 1</code></pre>
<p><a id=img2 href=https://xzfile.aliyuncs.com/media/upload/picture/20231105161901-f9e02d2e-7bb3-1.png><img src=data:,></a></p>
<h1 id=toc-6>Rss安全文章返回给网页</h1>
<p>已经抓取到文章标题和文章url了，接下来就是要返回给网页，让用户可以看到内容<br>
<strong>app.py</strong></p>
<pre><code>def index():
    with open("./rss_hackxc/xianzhi.txt", "r",encoding='utf-8') as f:
        content = f.readlines()
        body1 = [(line.strip().split(',')[0], line.strip().split(',')[1]) for line in content] #读取文件再放到html
        return render_template('index.html', body1=body1)</code></pre>
<p><strong>index.html</strong></p>
<pre><code>{% for xianzhi in body1 %}
    {{ loop.index }}
    {{ xianzhi[0] }}"{{ xianzhi[1] }}
{% endfor %}</code></pre>
<p>采用遍历的方式，因为采集的内容为多行，如果直接输出可以使用{{body1}}直接输出到网页，for循环的格式如上，因为文章内容格式为[url,标题]所以用xianzhi[0]和xianzhi[1]分别输出，{{ loop.index }}的作用是输出数量，表示第几个，其他内容为html标签<br>
<a id=img3 href=https://xzfile.aliyuncs.com/media/upload/picture/20231105164417-8151eb0a-7bb7-1.png><img src=data:,></a></p>
<p>既然核心功能已经有了，接下来我们就要对网页进行美化了【<strong>选择模板</strong>】，本文以hacking8为例子，首先ctrl+s前端页面全部脱下来，稍微处理下格式，以及文件内的路径，如果师傅们看到了其他好看的前端同样可以模仿打造出自己的Rss文章合集<br>
<strong>原前端样式</strong><br>
<a id=img4 href=https://xzfile.aliyuncs.com/media/upload/picture/20231105163245-e4b1b6aa-7bb5-1.png><img src=data:,></a><br>
<strong>修改后</strong><br>
去除最顶部多余栏目，仅输出与安全相关的最新文章<br>
<a id=img5 href=https://xzfile.aliyuncs.com/media/upload/picture/20231105164531-adc3274e-7bb7-1.png><img src=data:,></a><br>
同时底部删除多余空白，输出最新漏洞，简洁为主<br>
<a id=img6 href=https://xzfile.aliyuncs.com/media/upload/picture/20231105163528-46470a50-7bb6-1.png><img src=data:,></a></p>
<p>观察前端样式可以看到文章输出都是在tbody标签中<br>
<a id=img7 href=https://xzfile.aliyuncs.com/media/upload/picture/20231105164718-ed2f5092-7bb7-1.png><img src=data:,></a></p>
<pre><code>&lt;tbody&gt;
&lt;tr&gt;
    &lt;td&gt;第几个&lt;/td&gt;
    &lt;td&gt;&lt;a target="_blank" href="url地址" rel="nofollow"&gt;标题&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;</code></pre>
<p><strong>修改后</strong></p>
<pre><code>&lt;tbody&gt;
{% for xianzhi in body1 %}
    &lt;tr&gt;
        &lt;td&gt;{{ loop.index }}&lt;/td&gt;
        &lt;td&gt;&lt;a target="_blank" href="{{ xianzhi[0] }}" rel="nofollow"&gt;{{ xianzhi[1] }}&lt;/a&gt;&lt;/td&gt;
    &lt;/tr&gt;
{% endfor %}
&lt;/tbody&gt;</code></pre>
<h1 id=toc-7>Flask实现自动更新网页内容</h1>
<p>修改完后网站已经成型，但是还要考虑一个问题，那就是如何实现自动更新，最开始写的想法是每隔10-30分钟程序结束掉再运行，因为已经生成了Flask网页后函数就无法运行了，后来找到了一个模块APScheduler，可以实现定时执行任务</p>
<p>安装APScheduler模块：</p>
<pre><code>pip install apscheduler</code></pre>
<p>在Flask应用中，导入APScheduler模块并创建一个scheduler对象：</p>
<pre><code>from apscheduler.schedulers.background import BackgroundScheduler
scheduler = BackgroundScheduler()</code></pre>
<p>创建一个函数，用于执行body1函数并返回结果：</p>
<pre><code>def update_body1():
    body1 = # 调用body1函数生成新的内容
    return body1</code></pre>
<p>使用scheduler对象的add_job方法来添加一个定时任务：</p>
<pre><code>scheduler.add_job(func=update_page, trigger='interval', seconds=10)</code></pre>
<p>上述代码表示每隔10秒执行一次update_body1函数</p>
<p>在Flask应用中，启动scheduler：</p>
<pre><code>scheduler.start()</code></pre>
<p><strong>修改后的核心代码</strong> <strong>(实现执行函数自动更新网页)</strong></p>
<pre><code>from fake_useragent import UserAgent
from apscheduler.schedulers.background import BackgroundScheduler
scheduler = BackgroundScheduler()

def generate_new_body():
    with app.app_context():
        with open("./rss_hackxc/xianzhi.txt", "r",encoding='utf-8') as f:
            content = f.readlines()
        body1 = [(line.strip().split(',')[0], line.strip().split(',')[1]) for line in content] #读取文件再放到html
        return render_template('index.html', body1=body1)

def update_page(): # 生成新的网页内容，实现自动更新flask
    xianzhi()  # 先知文章

    new_body = generate_new_body()
    # 将新的网页内容更新到网页中
    with app.app_context():
        global body
        body = new_body

def index():
    return body #返回最新网页内容

scheduler.add_job(func=update_page, trigger='interval', seconds=10)
scheduler.start()

if __name__ == '__main__':
    headers = {'User-Agent': UserAgent().random}
    app.run(host='0.0.0.0', port=80)  # 启动Flask应用程序</code></pre>
<p><strong>完整代码如下：</strong></p>
<pre><code>import requests,re
from flask import Flask,render_template
from fake_useragent import UserAgent
from apscheduler.schedulers.background import BackgroundScheduler

app = Flask(__name__, static_folder='static')
app.config['APPLICATION_ROOT'] = '/'
app.config['PREFERRED_URL_SCHEME'] = 'http'
scheduler = BackgroundScheduler()
@app.route('/')

def generate_new_body():
    with app.app_context():
        with open("./rss_hackxc/xianzhi.txt", "r",encoding='utf-8') as f:
            content = f.readlines()
        body1 = [(line.strip().split(',')[0], line.strip().split(',')[1]) for line in content] #读取文件再放到html

        with open("./rss_hackxc/freebuf.txt", "r",encoding='utf-8') as f:
            content = f.readlines()
        body2 = [(line.strip().split(',')[0], line.strip().split(',')[1]) for line in content] #读取文件再放到html

        with open("./rss_hackxc/t00ls.txt", "r",encoding='utf-8') as f:
            content = f.readlines()
        body3 = [(line.strip().split(',')[0], line.strip().split(',')[1]) for line in content] #读取文件再放到html

        with open("./rss_hackxc/butian.txt", "r",encoding='utf-8') as f:
            content = f.readlines()
        body4 = [(line.strip().split(',')[0], line.strip().split(',')[1]) for line in content] #读取文件再放到html

        with open("./rss_hackxc/weixin.txt", "r",encoding='utf-8') as f:
            content = f.readlines()
        body5 = [(line.strip().split(',')[0], line.strip().split(',')[1]) for line in content] #读取文件再放到html

        with open("./rss_hackxc/huoxian.txt", "r",encoding='utf-8') as f:
            content = f.readlines()
        body6 = [(line.strip().split(',')[0], line.strip().split(',')[1]) for line in content] #读取文件再放到html

        with open("./rss_hackxc/changting.txt", "r",encoding='utf-8') as f:
            content = f.readlines()
        body7 = [(line.strip().split(',')[0], line.strip().split(',')[1]) for line in content] #读取文件再放到html

        with open("./rss_hackxc/aliyun.txt", "r",encoding='utf-8') as f:
            content = f.readlines()
        body8 = [(line.strip().split(',')[0], line.strip().split(',')[1]) for line in content] #读取文件再放到html

        with open("./rss_hackxc/nsfocus.txt", "r",encoding='utf-8') as f:
            content = f.readlines()
        body9 = [(line.strip().split(',')[0], line.strip().split(',')[1]) for line in content] #读取文件再放到html

        return render_template('index.html', body1=body1, body2=body2, body3=body3, body4=body4, body5=body5, body6=body6, body7=body7, body8=body8,body9=body9)

def update_page(): # 生成新的网页内容，实现自动更新flask
    xianzhi()  # 先知文章
    freebuf()  # Freebuf文章
    t00ls()    # T00ls文章
    butian()   # 补天文章
    weixin()   # 微信文章
    huoxian()  # 火线文章
    changting()# 长亭漏洞库
    aliyun()   # 阿里云漏洞库
    nsfocus()  # 绿盟漏洞预警

    new_body = generate_new_body()
    # 将新的网页内容更新到网页中
    with app.app_context():
        global body
        body = new_body

def index():
    return body #返回最新网页内容

scheduler.add_job(func=update_page, trigger='interval', seconds=600)
scheduler.start()

def xianzhi():
    url = 'https://xz.aliyun.com/feed'
    response = requests.get(url,headers=headers)
    html = response.text
    #print(response.request.headers['User-Agent'])
    rtitle = r'&lt;entry&gt;&lt;title&gt;(.*?)&lt;/title&gt;&lt;link href="'
    title = re.findall(rtitle, html,re.DOTALL)

    rurl = r'&lt;link href="(.*?)" rel="alternate"&gt;'
    url = re.findall(rurl, html,re.DOTALL)

    with open("./rss_hackxc/xianzhi.txt", "w",encoding='utf-8') as f:
        for x, y in zip(url, title):
            f.write(str(x) + ',' + str(y) + '\n')

def freebuf():
    url = 'https://www.freebuf.com/articles/web'
    response = requests.get(url,headers=headers)
    html = response.text
    #print(html)
    #print(response.request.headers['User-Agent'])
    rtitle = r'" target="_blank" class="img-view" data-v-8bdd825c&gt;&lt;img alt="(.*?)" style="color:#fff" data-v-8bdd825c&gt; &lt;p data-v-8bdd825c&gt;&lt;span class="ant-tag ant-tag-has-color" style="background-color:#262626;opacity:.7;font-size:12px;border-radius:0" data-v-8bdd825c&gt;'
    title = re.findall(rtitle, html,re.DOTALL)

    rurl = r'&lt;div class="item-content" data-v-8bdd825c&gt;&lt;a href="(/articles.*?)" target="_blank" class="img-view" data-v-8bdd825c&gt;&lt;img alt="'
    url = re.findall(rurl, html,re.DOTALL)
    #print(url[0].strip(),title[0].strip())

    with open('./rss_hackxc/freebuf.txt', 'w',encoding='utf-8') as f:
        for x, y in zip(url, title):
            f.write(str(x) + ',' + str(y) + '\n')

def t00ls():
    url = 'https://i.hacking8.com/forums/'
    response = requests.get(url,headers=headers)
    html = response.text

    rtitle = r'href="https://www.t00ls.com(.*?)" rel="nofollow"&gt;(.*?)&lt;/a&gt;&lt;/td&gt;'
    title = re.findall(rtitle, html,re.DOTALL)

    rurl = r'&lt;div class="item-content" data-v-8bdd825c&gt;&lt;a href="(/articles.*?)" target="_blank" class="img-view" data-v-8bdd825c&gt;&lt;img alt="'
    url = re.findall(rurl, html,re.DOTALL)
    #print(title[0])

    count = 0  # 只写入35条数据
    with open('./rss_hackxc/t00ls.txt', 'w',encoding='utf-8') as f:
        for item in title:
            item = str(item).replace("'", "").replace("(", "").replace(")", "").replace(' ','')#处理格式
            f.write(item.strip()  + '\n')
            count += 1
            if count &gt;= 35:
                break
def butian():
    titles = []
    url = 'https://forum.butian.net/community/all/newest'
    response = requests.get(url,headers=headers)
    html = response.text
    #print(response.request.headers['User-Agent'])
    rtitle = r'data-source-id=".*?"(.*?)&lt;/a&gt;&lt;/h2&gt;'
    title = re.findall(rtitle, html,re.DOTALL)
    for t in title:
        t = t.replace('&gt;', '').strip()
        titles.append(t)
        # print(titles)

    rurl = r'&lt;a.*?href="https://forum.butian.net/share/(\d+)".*?&gt;'
    url = re.findall(rurl, html,re.DOTALL)
    #print(url)

    with open('./rss_hackxc/butian.txt', 'w',encoding='utf-8') as f:
        for x, y in zip(url, titles):
            f.write(str(x) + ',' + str(y) + '\n')

def weixin():
    titles = []
    url = 'http://www.nmd5.com/test/index.php'
    response = requests.get(url, headers=headers)
    html = response.text
    # print(response.request.headers['User-Agent'])
    rtitle = r'&lt;a href="https://mp.weixin.qq.com(.*?)" target="_blank"&gt;(.*?)&lt;/a&gt;'
    title = re.findall(rtitle, html, re.DOTALL)
    #print(title)

    count = 0  # 只写入28条数据
    with open('./rss_hackxc/weixin.txt', 'w',encoding='utf-8') as f:
        for item in title:
            item = str(item).replace("'", "").replace("(", "").replace(")", "").replace(' ','')#处理格式
            f.write(item.strip()  + '\n')
            count += 1
            if count &gt;= 28:
                break
def huoxian():
    url = 'https://zone.huoxian.cn/?sort=newest'
    response = requests.get(url, headers=headers)
    html = response.text
    # print(response.request.headers['User-Agent'])
    rtitle = r'&lt;a href="https://zone.huoxian.cn/d(.*?)"&gt;(.*?)&lt;/a&gt;'
    title = re.findall(rtitle, html, re.DOTALL)
    #print(title)
    count = 0  # 删除第一行置顶信息
    with open('./rss_hackxc/huoxian.txt', 'w', encoding='utf-8') as f:
        for t in title:
            t = str(t).strip().replace("'", "").replace("(", "").replace(")", "").replace(' ','').replace('\\n','')
            #print(t)
            if count &lt; 1:
                count += 1
            else:
                f.write(t+"\n")
                count += 1

def changting():
    url = 'https://stack.chaitin.com/api/v2/vuln/list/?limit=25&amp;offset=0&amp;search='
    response = requests.get(url, headers=headers)
    html = response.json()
    html = html['data']['list']

    with open('./rss_hackxc/changting.txt', 'w', encoding='utf-8') as f:
        for item in html:
            f.write(item['id']+","+item['title']+"\n")

def aliyun():
    url = 'https://avd.aliyun.com/'
    response = requests.get(url, headers=headers)
    html = response.text
    rtitle = r'&lt;td&gt;(.*?)&lt;/td&gt;'
    title = re.findall(rtitle, html, re.DOTALL)
    #print(title)

    rurl = r'&lt;a href="(.*?)"'
    url = re.findall(rurl, html,re.DOTALL)
    #print(url)

    pairs = zip(url, title)#合并输出
    with open('./rss_hackxc/aliyun.txt', 'w', encoding='utf-8') as f:
        for pair in pairs:
            u, t = pair
            f.write(u+","+t+"\n")

def nsfocus():
    url = 'http://www.nsfocus.net/index.php?act=sec_bug'
    response = requests.get(url, headers=headers)
    content = response.content.decode('utf-8')

    rtitle = r"&lt;li&gt;&lt;span&gt;.*?&lt;/span&gt; &lt;a href='(.*?)'&gt;(.*?)&lt;/a&gt;&lt;/li&gt;"
    title = re.findall(rtitle, content, re.DOTALL)
    with open('./rss_hackxc/nsfocus.txt', 'w', encoding='utf-8') as f:
        for t in title:
            f.write(t[0]+","+t[1]+"\n")


if __name__ == '__main__':
    headers = {'User-Agent': UserAgent().random}
    app.run(host='0.0.0.0', port=80)  # 启动Flask应用程序</code></pre>
<h1 id=toc-8>部署上线</h1>
<p>最后一步当然是如何部署到服务器去上线，上线肯定不建议在生成环境，所以建议使用虚拟环境，或者使用普通用户去操作</p>
<p>安装虚拟环境</p>
<pre><code>sudo pip install virtualenv</code></pre>
<p>生成文件夹ENV_flask，进入其中</p>
<pre><code>sudo virtualenv ENV_flask</code></pre>
<p>激活虚拟环境</p>
<pre><code>source bin/activate</code></pre>
<p>虚拟环境安装pip</p>
<pre><code>sudo pip install flask</code></pre>
<p>在虚拟环境中安装uwsgi</p>
<pre><code>sudo pip install uwsgi</code></pre>
<p>在虚拟环境中编写uwsgi的配置文件flask_uwsgi.ini，文件名可随意<br>
vim flask_uwsgi.ini</p>
<pre><code>[uwsgi]
master = true
wsgi-file = app.py
callable = app
http = :8001
processes = 4
threads = 2
buffer-size = 32768</code></pre>
<p><strong>执行命令：</strong></p>
<pre><code>uwsgi --ini flask_uwsgi.ini #测试运行
nohup uwsgi --ini flask_uwsgi.ini &amp;  #后台运行</code></pre>
<p><a id=img8 href=https://xzfile.aliyuncs.com/media/upload/picture/20231105183747-5c91ecf6-7bc7-1.png><img src=data:,></a></p>
<h1 id=toc-9>Nginx对项目进行反向代理</h1>
<p>安装nginx</p>
<pre><code>sudo apt-get install nginx</code></pre>
<p>修改nginx的配置文件<strong>vim /etc/nginx/sites-available/default</strong></p>
<pre><code>server {
        # listen 80 default_server;
        # listen [::]:80 default_server ipv6only=on;
        listen 80;  # 监听端口，http默认80

        # root /usr/share/nginx/html;
        root /home/hackxc/ENV_flask;      # flask项目根路径
        # index index.html index.htm;

        # Make site accessible from http://localhost/
        # server_name localhost;
        server_name 你的外网ip;    # 公网ip或已解析ip的域名

        location / {
           proxy_pass http://127.0.0.1:8001; #内网端口
           proxy_set_header Host $host;
           proxy_set_header X-Real-IP $remote_addr;
           proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        }
}</code></pre>
<p><a id=img9 href=https://xzfile.aliyuncs.com/media/upload/picture/20231105235102-1f541ea0-7bf3-1.png><img src=data:,></a><br>
重启服务即可</p>
<pre><code>sudo service nginx restart</code></pre>
<p><a id=img10 href=https://xzfile.aliyuncs.com/media/upload/picture/20231105235154-3e695774-7bf3-1.png><img src=data:,></a></p>
<p>上面进行了反向代理，最后设置防火墙后本地就只能访问8001端口，本地的8001端口映射到80端口</p>
<pre><code>sudo iptables -A INPUT -i lo -j ACCEPT  #添加允许本地回环访问的规则
sudo iptables -A INPUT -p tcp --dport 8001 -s 0.0.0.0/0 -j DROP #添加规则以拒绝所有外部访问8001端口
sudo iptables -L #查看配置是否生效</code></pre>
<p><a id=img11 href=https://xzfile.aliyuncs.com/media/upload/picture/20231106012744-a134221e-7c00-1.png><img src=data:,></a></p>
<p><strong>完整项目：<a href=https://github.com/hackxc/Security_Rss/ target=_blank>https://github.com/hackxc/Security_Rss/</a></strong></p>
 </div>
 
 <div class=post-user-action style=margin-top:34px>
 <span class="btn btn-default pull-right" id=mark data-action=topic data-pk=12980>
 <span id=mark-text>点击收藏 </span><span class=i-seprator> | </span><span id=mark-count>3</span>
 </span>
 
 <span class="btn btn-default pull-right" id=follow_topic data-pk=12980>
 <span>关注</span><span class=i-seprator> | </span><span id=follow-count>1</span>
 </span>
 
 
 <span class="btn btn-default pull-right">
 <span>
 
 <span id=ready_reward data-toggle=modal data-target=#myModal>打赏</span>
 
 </span>
 </span>
 
 <div class=clearfix></div>
 </div>
 
 
 
 </div>
 </div>
</div>
<div class="modal fade" id=myModal role=dialog aria-labelledby=myModalLabel aria-hidden=true>
 <div class=modal-dialog>
 <div class=modal-content>
 <div class=modal-header>
 <h4 class=modal-title id=myModalLabel style=text-align:center>
 积分打赏
 </h4>
 </div>
 <div class=modal-body id=button-value>
 <div style=text-align:center>
 <div role=group>
 <button type=button class="btn btn-secondary m64" style=min-width:64px data-value=type1>
 1分
 </button>
 <button type=button class="btn btn-secondary m64" style=min-width:64px data-value=type2>
 2分
 </button>
 <button type=button class="btn btn-secondary m64" style=min-width:64px data-value=type3>
 5分
 </button>
 </div>
 <br>
 <div style=margin-top:20px>
 <button type=button class="btn btn-secondary m64" style=min-width:64px data-value=type4>
 8分
 </button>
 <button type=button class="btn btn-secondary m64" style=min-width:64px data-value=type5>
 10分
 </button>
 <button type=button class="btn btn-secondary m64" style=min-width:64px data-value=type6>
 20分
 </button>
 </div>
 </div>
 </div>
 <div class=modal-footer id=confirm>
 <button type=button class="btn btn-default" data-dismiss=modal>关闭</button>
 <button type=button class="btn btn-primary" id=reward_topic data-pk=12980>确定</button>
 </div>
 </div>
 </div>
</div>
 
 
 
 
 
 
 
 
 </div>
 <div class="span3 pull-right offset sidebar">
 
 <div class="box sf-hidden">
 
 </div>
 <div class="box sf-hidden">
 
 </div>
 <div class="box sf-hidden">
 
 </div>
 <div class="box sf-hidden">
 
 
 </div>
<div class="box sf-hidden">
 
</div>
 <div class="box sfixed sf-hidden" id=toc-container style=width:390px>
 
 </div>
 <div style=clear:both></div>
 
 
 </div>
 </div>
</div>
<footer class=bs-docs-footer>
 <div class="container text-center">
 <div class=links>
 <a href=https://xz.aliyun.com/feed target=_blank>RSS</a>
 <a href=https://xz.aliyun.com/about target=_blank><span>关于社区</span></a>
 <a href=https://xz.aliyun.com/partner target=_blank><span>友情链接</span></a>
 <a href=https://xz.aliyun.com/notice>社区小黑板</a>
 <a href=https://xz.aliyun.com/connection>联系我们</a>
 <a href=https://report.aliyun.com/ target=_blank>举报中心</a>
 <a href=https://www.aliyun.com/complaint target=_blank>我要投诉</a>
 </div>
 </div>
</footer>
 
 
 
<div id=waf_nc_block style=display:none></div>